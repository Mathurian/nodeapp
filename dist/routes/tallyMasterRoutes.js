"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const tallyMasterController_1 = require("../controllers/tallyMasterController");
const auth_1 = require("../middleware/auth");
const errorHandler_1 = require("../middleware/errorHandler");
const router = express_1.default.Router();
router.use(auth_1.authenticateToken);
router.use((0, auth_1.requireRole)(['ADMIN', 'TALLY_MASTER', 'ORGANIZER', 'BOARD', 'AUDITOR']));
router.get('/stats', tallyMasterController_1.getStats);
router.get('/certifications', tallyMasterController_1.getCertifications);
router.get('/certification-queue', tallyMasterController_1.getCertificationQueue);
router.get('/pending-certifications', tallyMasterController_1.getPendingCertifications);
router.get('/score-review/:categoryId', tallyMasterController_1.getScoreReview);
router.get('/contest/:contestId/score-review', tallyMasterController_1.getContestScoreReview);
router.get('/contest/:contestId/certifications', tallyMasterController_1.getContestCertifications);
router.get('/certification-workflow/:categoryId', tallyMasterController_1.getCertificationWorkflow);
router.get('/bias-checking/:categoryId', tallyMasterController_1.getBiasCheckingTools);
router.post('/certify-totals', (0, errorHandler_1.logActivity)('CERTIFY_TOTALS', 'CATEGORY'), tallyMasterController_1.certifyTotals);
router.get('/history', tallyMasterController_1.getTallyMasterHistory);
router.post('/score-removal-requests', (0, auth_1.requireRole)(['ADMIN', 'ORGANIZER', 'TALLY_MASTER', 'AUDITOR', 'BOARD']), (0, errorHandler_1.logActivity)('REQUEST_SCORE_REMOVAL', 'SCORE_REMOVAL'), tallyMasterController_1.requestScoreRemoval);
router.get('/score-removal-requests', (0, auth_1.requireRole)(['ADMIN', 'ORGANIZER', 'TALLY_MASTER', 'AUDITOR', 'BOARD']), tallyMasterController_1.getScoreRemovalRequests);
router.post('/score-removal-requests/:id/approve', (0, auth_1.requireRole)(['ADMIN', 'ORGANIZER', 'BOARD']), (0, errorHandler_1.logActivity)('APPROVE_SCORE_REMOVAL', 'SCORE_REMOVAL'), tallyMasterController_1.approveScoreRemoval);
router.post('/score-removal-requests/:id/reject', (0, auth_1.requireRole)(['ADMIN', 'ORGANIZER', 'BOARD']), (0, errorHandler_1.logActivity)('REJECT_SCORE_REMOVAL', 'SCORE_REMOVAL'), tallyMasterController_1.rejectScoreRemoval);
router.get('/scores/contestant', (0, auth_1.requireRole)(['ADMIN', 'TALLY_MASTER', 'AUDITOR', 'BOARD']), tallyMasterController_1.getContestantScores);
router.get('/scores/judge', (0, auth_1.requireRole)(['ADMIN', 'TALLY_MASTER', 'AUDITOR', 'BOARD']), tallyMasterController_1.getJudgeScores);
router.get('/category/:categoryId/judges', (0, auth_1.requireRole)(['ADMIN', 'TALLY_MASTER', 'AUDITOR', 'BOARD']), tallyMasterController_1.getCategoryJudges);
router.delete('/scores/remove', (0, auth_1.requireRole)(['ADMIN', 'TALLY_MASTER', 'AUDITOR', 'BOARD']), (0, errorHandler_1.logActivity)('REMOVE_JUDGE_CONTESTANT_SCORES', 'SCORE'), tallyMasterController_1.removeJudgeContestantScores);
exports.default = router;
module.exports = router;
//# sourceMappingURL=tallyMasterRoutes.js.map